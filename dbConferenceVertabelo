-- Created by Vertabelo (http://vertabelo.com)
-- Last modification date: 2022-09-14 04:07:12.238

-- tables
-- Table: CONFERENCIA
CREATE TABLE CONFERENCIA (
    CODCONF char(5)  NOT NULL,
    TEMCONF varchar(90)  NOT NULL,
    FECCONF date  NOT NULL,
    CODPON char(5)  NOT NULL,
    CONSTRAINT CONFERENCIA_pk PRIMARY KEY (CODCONF)
);

-- Table: PARTICIPANTE
CREATE TABLE PARTICIPANTE (
    IDPAR int  NOT NULL,
    FECREGPAR date  NOT NULL,
    NOMPAR varchar(60)  NOT NULL,
    APEPAR varchar(80)  NOT NULL,
    DNIPAR Char(8)  NOT NULL,
    TIPPAR char(1)  NOT NULL,
    CELPAR char(9)  NOT NULL,
    EMAPAR varchar(90)  NOT NULL,
    DIRPAR varchar(90)  NOT NULL,
    ESTPAR char(1)  NOT NULL,
    CONSTRAINT PARTICIPANTE_pk PRIMARY KEY (IDPAR)
);

-- Table: PONENTE
CREATE TABLE PONENTE (
    CODPON char(5)  NOT NULL,
    NOMPON varchar(60)  NOT NULL,
    APEPON varchar(80)  NOT NULL,
    CELPON char(9)  NOT NULL,
    DNIPON char(8)  NOT NULL,
    EMAPON varchar(90)  NOT NULL,
    DIRPON varchar(90)  NOT NULL,
    CONSTRAINT PONENTE_pk PRIMARY KEY (CODPON)
);

-- Table: REGISTRO
CREATE TABLE REGISTRO (
    CODREG char(5)  NOT NULL,
    IDPAR int  NOT NULL,
    FECREG date  NOT NULL,
    CERTREG char(1)  NOT NULL,
    CONSTRAINT REGISTRO_pk PRIMARY KEY (CODREG)
);

-- Table: REGISTRODETALLE
CREATE TABLE REGISTRODETALLE (
    IDREGDET int  NOT NULL,
    CODREG char(5)  NOT NULL,
    CODCONF char(5)  NOT NULL,
    CANTPART int  NOT NULL,
    CONSTRAINT REGISTRODETALLE_pk PRIMARY KEY (IDREGDET)
);

-- foreign keys
-- Reference: CONFERENCIA_PONENTE (table: CONFERENCIA)
ALTER TABLE CONFERENCIA ADD CONSTRAINT CONFERENCIA_PONENTE
    FOREIGN KEY (CODPON)
    REFERENCES PONENTE (CODPON)  
    NOT DEFERRABLE 
    INITIALLY IMMEDIATE
;

-- Reference: REGISTRODETALLE_CONFERENCIA (table: REGISTRODETALLE)
ALTER TABLE REGISTRODETALLE ADD CONSTRAINT REGISTRODETALLE_CONFERENCIA
    FOREIGN KEY (CODCONF)
    REFERENCES CONFERENCIA (CODCONF)  
    NOT DEFERRABLE 
    INITIALLY IMMEDIATE
;

-- Reference: REGISTRODETALLE_REGISTRO (table: REGISTRODETALLE)
ALTER TABLE REGISTRODETALLE ADD CONSTRAINT REGISTRODETALLE_REGISTRO
    FOREIGN KEY (CODREG)
    REFERENCES REGISTRO (CODREG)  
    NOT DEFERRABLE 
    INITIALLY IMMEDIATE
;

-- Reference: REGISTRO_PARTICIPANTE (table: REGISTRO)
ALTER TABLE REGISTRO ADD CONSTRAINT REGISTRO_PARTICIPANTE
    FOREIGN KEY (IDPAR)
    REFERENCES PARTICIPANTE (IDPAR)  
    NOT DEFERRABLE 
    INITIALLY IMMEDIATE
;

-- End of file.

